<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abhinit Barua - Portfolio</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Electrolize&family=Orbitron:wght@700;900&family=Poppins:wght@300;400;600;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Parallax Background Layers -->
    <div class="parallax-bg">
        <div class="bg-layer layer-1" style="--parallax-speed: 5;"></div> <!-- Deep space nebula -->
        <div class="bg-layer layer-2" style="--parallax-speed: 10;"></div> <!-- Faint tech grid -->
        <div class="bg-layer layer-3" style="--parallax-speed: 18;"></div> <!-- Particle/starfield -->
        <div class="bg-layer layer-4"></div> <!-- Animated Scanlines / Noise overlay -->
    </div>

    <div class="container-wrapper">
        <div class="container">
        <header class="site-header">
            <div class="logo-container animated-logo">
                 <span class="header-logo-char" data-char="A" style="--i:0">A</span><span class="header-logo-char" data-char="B" style="--i:1">B</span>
            </div>
            <h1 class="main-title"><span>Abhinit Barua</span></h1>
            <p class="sub-title">Digital Architect & Tech Innovator</p>
            <nav class="main-nav">
                <ul>
                    <li><a href="#about" class="nav-link magnetic-link"><span>About</span><div class="nav-link-deco"></div></a></li>
                    <li><a href="#actions" class="nav-link magnetic-link"><span>Explore</span><div class="nav-link-deco"></div></a></li>
                    <li><a href="#projects-section" class="nav-link magnetic-link"><span>Projects</span><div class="nav-link-deco"></div></a></li>
                    <li><a href="#skills-section" class="nav-link magnetic-link"><span>Skills</span><div class="nav-link-deco"></div></a></li>
                    <li><a href="#socials" class="nav-link magnetic-link"><span>Connect</span><div class="nav-link-deco"></div></a></li>
                </ul>
            </nav>
        </header>

            <main>
                <section id="about" class="card interactive-card dynamic-reveal">
                    <div class="card-3d-wrapper">
                        <div class="card-border-animated"></div>
                        <div class="card-glow"></div>
                        <div class="card-content-wrapper">
                            <h2 class="section-title" data-content="[ About Me ]"><span>[ About Me ]</span></h2>
                            <p class="text-flow">Welcome to the official portfolio of <strong>Abhinit Barua</strong>, a 14-year-old full-stack developer, tech innovator, and the creative mind behind The Tech Factory. From a young age, I developed a passion for creating and engineering solutions that make a difference. My projects are a testament to my ambition and ability to tackle complex challenges head-on with bleeding-edge technologies.</p>
                            <div class="decorative-lines">
                                <span style="--delay: 0s;"></span><span style="--delay: 0.2s;"></span><span style="--delay: 0.4s;"></span>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="actions" class="card interactive-card dynamic-reveal">
                     <div class="card-3d-wrapper">
                        <div class="card-border-animated"></div>
                        <div class="card-glow"></div>
                        <div class="card-content-wrapper">
                            <h2 class="section-title" data-content="[ Explore Further ]"><span>[ Explore Further ]</span></h2>
                            <div class="button-group">
                                <a href="#projects-section" class="btn btn-primary futuristic-btn btn-magnetic">
                                    <span>Projects</span>
                                    <div class="btn-glare"></div>
                                    <div class="btn-particles">
                                        <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
                                    </div>
                                </a>
                                <a href="#skills-section" class="btn btn-secondary futuristic-btn btn-magnetic">
                                    <span>Skills</span>
                                    <div class="btn-glare"></div>
                                     <div class="btn-particles">
                                        <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
                                    </div>
                                </a>
                            </div>
                            <div class="decorative-circuit">
                                <svg viewBox="0 0 100 50" preserveAspectRatio="none"><path d="M0 25 Q 15 -10, 30 25 T 60 35 T 80 15 T 100 25" stroke="var(--accent-color)" stroke-width="1" fill="none" stroke-dasharray="3,3" class="circuit-path"/></svg>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="socials" class="card interactive-card dynamic-reveal">
                    <div class="card-3d-wrapper">
                        <div class="card-border-animated"></div>
                        <div class="card-glow"></div>
                        <div class="card-background-pattern"></div>
                        <div class="card-content-wrapper">
                            <h2 class="section-title" data-content="[ Connect & Collaborate ]"><span>[ Connect & Collaborate ]</span></h2>
                            <ul class="social-links">
                                <li>
                                    <a href="https://github.com/abhinitbarua" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="social-icon-link social-magnetic">
                                        <i class="fab fa-github"></i> <span class="tooltip">GitHub</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://discord.com/invite/YgSM8mPw52" target="_blank" rel="noopener noreferrer" aria-label="Discord" class="social-icon-link social-magnetic">
                                        <i class="fab fa-discord"></i> <span class="tooltip">Discord</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="mailto:abhinitinspace@gmail.com" target="_blank" rel="noopener noreferrer" aria-label="Email" class="social-icon-link social-magnetic">
                                        <i class="fas fa-envelope"></i> <span class="tooltip">Email</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://reddit.com/r/TheTechFactory/?rdt=43049" target="_blank" rel="noopener noreferrer" aria-label="Reddit" class="social-icon-link social-magnetic">
                                        <i class="fab fa-reddit"></i> <span class="tooltip">Reddit</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="https://gitlab.com/thatsnotabhiinit" target="_blank" rel="noopener noreferrer" aria-label="GitLab" class="social-icon-link social-magnetic">
                                        <i class="fab fa-gitlab"></i> <span class="tooltip">GitLab</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section id="projects-section" class="placeholder-section card interactive-card dynamic-reveal">
                    <div class="card-3d-wrapper">
                        <div class="card-border-animated"></div>
                        <div class="card-glow"></div>
                        <div class="matrix-bg-v2"></div>
                        <div class="card-content-wrapper">
                            <h2 class="section-title" data-content="[ My Projects ]"><span>[ My Projects ]</span></h2>
                            <p class="text-flow"><em>(Showcasing innovative projects. Expect interactive demos, code breakdowns, and visual feasts!)</em></p>
                            <div class="project-grid-placeholder">
                                <div class="project-item-placeholder"><div class="item-glow"></div><span>Project Alpha</span></div>
                                <div class="project-item-placeholder"><div class="item-glow"></div><span>Project Beta</span></div>
                                <div class="project-item-placeholder"><div class="item-glow"></div><span>Project Gamma</span></div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="skills-section" class="placeholder-section card interactive-card dynamic-reveal">
                    <div class="card-3d-wrapper">
                        <div class="card-border-animated"></div>
                        <div class="card-glow"></div>
                        <div class="card-content-wrapper">
                            <h2 class="section-title" data-content="[ My Skill Arsenal ]"><span>[ My Skill Arsenal ]</span></h2>
                            <p class="text-flow"><em>(Visualizing expertise. Interactive skill trees & proficiency animations are on the way!)</em></p>
                            <div class="skills-bars-placeholder">
                                <div class="skill-bar-placeholder" style="--skill-level: 90%; --skill-color: var(--accent-color);">
                                    <span class="skill-name-placeholder">Frontend Wizardry</span>
                                    <div class="skill-level-bg"><div class="skill-level-fill"></div></div>
                                </div>
                                <div class="skill-bar-placeholder" style="--skill-level: 85%; --skill-color: var(--primary-color);">
                                    <span class="skill-name-placeholder">Backend Sorcery</span>
                                    <div class="skill-level-bg"><div class="skill-level-fill"></div></div>
                                </div>
                                <div class="skill-bar-placeholder" style="--skill-level: 75%; --skill-color: var(--secondary-color);">
                                    <span class="skill-name-placeholder">DevOps & Cloud</span>
                                     <div class="skill-level-bg"><div class="skill-level-fill"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <footer class="site-footer-enhanced">
                <div class="footer-grid">
                    <div class="footer-column">
                        <h4>Abhinit Barua</h4>
                        <p class="footer-tagline">© <span id="current-year"></span>. Architecting Tomorrow's Tech, Today.</p>
                        <p>Crafted with <i class="fas fa-heart pulse-heart"></i>, <i class="fas fa-brain"></i> and copious <i class="fas fa-mug-hot"></i>.</p>
                    </div>
                    <div class="footer-column">
                        <h4>Navigation</h4>
                        <ul class="footer-nav">
                            <li><a href="#about" class="magnetic-link-sm"><span>About</span></a></li>
                            <li><a href="#projects-section" class="magnetic-link-sm"><span>Projects</span></a></li>
                            <li><a href="#skills-section" class="magnetic-link-sm"><span>Skills</span></a></li>
                            <li><a href="#socials" class="magnetic-link-sm"><span>Contact</span></a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Connect</h4>
                        <div class="footer-socials">
                            <a href="https://github.com/abhinitbarua" aria-label="GitHub" class="social-magnetic-sm"><i class="fab fa-github"></i></a>
                            <a href="https://discord.com/invite/YgSM8mPw52" aria-label="Discord" class="social-magnetic-sm"><i class="fab fa-discord"></i></a>
                            <a href="mailto:abhinitinspace@gmail.com" aria-label="Email" class="social-magnetic-sm"><i class="fas fa-envelope"></i></a>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom-bar">
                    <p>Session Active | Status: <span class="status-online">Online</span> | Design Iteration: v3.0 "Nebula"</p>
                    <a href="#preloader" id="scroll-to-top" class="scroll-to-top-btn magnetic-link-sm">
                        <i class="fas fa-angle-double-up"></i>
                        <span>Top</span>
                    </a>
                </div>
            </footer>
        </div>
    </div>

    <!-- Background Music Player -->
    <audio id="bg-music" loop>
        <!-- IMPORTANT: Replace 'interstellar_theme_placeholder.mp3' with your actual audio file -->
        <source src="can-you-hear-the-music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Mute/Unmute Button -->
    <button id="mute-toggle-btn" class="mute-btn" aria-label="Toggle Background Music">
        <i class="fas fa-volume-mute"></i> <!-- Initial state: muted/paused -->
    </button>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const body = document.body;

        // --- === Smooth Scroll & Active Nav === ---
        const navLinks = document.querySelectorAll('nav .nav-link, .footer-nav a');
        navLinks.forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const targetId = this.getAttribute('href');
                if (targetId && targetId.startsWith('#') && targetId.length > 1) {
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        e.preventDefault();
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        // Basic active class handling (more robust with Intersection Observer)
                        navLinks.forEach(link => link.classList.remove('active'));
                        this.classList.add('active');
                        // Close mobile menu if open (you'd need a mobile menu system first)
                    }
                }
            });
        });

        // Update active nav on scroll (more robust)
        const sections = document.querySelectorAll('main section[id]');
        const scrollActiveNav = () => {
            let currentSectionId = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - (window.innerHeight / 3) ) { // Adjust offset
                    currentSectionId = section.getAttribute('id');
                }
            });
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSectionId}`) {
                    link.classList.add('active');
                }
            });
        };
        window.addEventListener('scroll', scrollActiveNav);


        // --- === Copyright Year === ---
        const currentYearSpan = document.getElementById('current-year');
        if (currentYearSpan) currentYearSpan.textContent = new Date().getFullYear();


        // --- === Intersection Observer for Animations === ---
        const animatedElements = document.querySelectorAll('.dynamic-reveal');
        const observerOptions = { root: null, rootMargin: '0px', threshold: 0.2 };

        const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    // Animate skill bars if this is the skills section
                    if (entry.target.id === 'skills-section' || entry.target.classList.contains('skills-bars-placeholder')) {
                        entry.target.querySelectorAll('.skill-level-fill').forEach(fill => {
                            fill.style.width = fill.parentElement.parentElement.style.getPropertyValue('--skill-level') || '0%';
                        });
                    }
                    obs.unobserve(entry.target);
                }
            });
        }, observerOptions);
        animatedElements.forEach(el => observer.observe(el));


        // --- === Interactive Card 3D Tilt Effect === ---
        const interactiveCards = document.querySelectorAll('.interactive-card');
        interactiveCards.forEach(card => {
            const wrapper3D = card.querySelector('.card-3d-wrapper');
            const glow = card.querySelector('.card-glow');

            if (wrapper3D) {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const centerX = rect.width / 2;
                    const centerY = rect.height / 2;
                    const rotateX = ((y - centerY) / centerY) * -7; // Max rotation 7deg
                    const rotateY = ((x - centerX) / centerX) * 7;  // Max rotation 7deg

                    wrapper3D.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(30px)`;

                    if (glow) {
                        glow.style.setProperty('--mouse-x', `${x}px`);
                        glow.style.setProperty('--mouse-y', `${y}px`);
                    }
                });

                card.addEventListener('mouseleave', () => {
                    wrapper3D.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)';
                });
            }
        });

        // --- === Button Particle Effect === ---
        document.querySelectorAll('.futuristic-btn').forEach(button => {
            const particleContainer = button.querySelector('.btn-particles');
            if (particleContainer) {
                button.addEventListener('mouseenter', () => {
                    // Create and animate particles
                    for (let i = 0; i < 8; i++) { // Match number of <i> tags
                        const p = particleContainer.children[i];
                        if (p) {
                            const angle = Math.random() * Math.PI * 2;
                            const distance = Math.random() * 30 + 20; // Travel distance
                            p.style.setProperty('--tx', `${Math.cos(angle) * distance}px`);
                            p.style.setProperty('--ty', `${Math.sin(angle) * distance}px`);
                            // CSS handles the animation via :hover on parent
                        }
                    }
                });
            }
        });

        // --- === Magnetic Elements (Conceptual - Needs a library or more complex math) === ---
        // This is a simplified placeholder. Real magnetic effects are complex.
        document.querySelectorAll('.magnetic-link, .social-magnetic, .btn-magnetic, .magnetic-link-sm').forEach(el => {
            el.addEventListener('mousemove', function(e) {
                const rect = this.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                // Simple movement, real magnetic is non-linear
                this.style.transform = `translate(${x * 0.15}px, ${y * 0.25}px) scale(1.05)`;
                if (this.classList.contains('social-magnetic') || this.classList.contains('btn-magnetic')) {
                     this.style.transform = `translate(${x * 0.2}px, ${y * 0.3}px) scale(1.1) translateZ(10px)`;
                }
            });
            el.addEventListener('mouseleave', function() {
                this.style.transform = 'translate(0,0) scale(1) translateZ(0)';
            });
        });


        // --- === Parallax Background (Simple JS version if CSS alone isn't enough) === ---
        const parallaxLayers = document.querySelectorAll('.parallax-bg .bg-layer');
        if (parallaxLayers.length > 0 && !isTouchDevice()){ // Don't run on touch for performance
            window.addEventListener('scroll', () => {
                const scrollTop = window.pageYOffset;
                parallaxLayers.forEach(layer => {
                    const speed = parseFloat(layer.style.getPropertyValue('--parallax-speed')) || 2; // Get speed from CSS custom prop or default
                    const yPos = -(scrollTop / speed);
                    layer.style.transform = `translateY(${yPos}px) scale(${layer.style.transform.includes('scale') ? layer.style.transform.split('scale(')[1].split(')')[0] : '1'})`; // Maintain existing scale
                });
            });
        }

        // --- === Scroll to Top Button === ---
        const scrollToTopBtn = document.getElementById('scroll-to-top');
        if (scrollToTopBtn) {
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.classList.add('visible');
                } else {
                    scrollToTopBtn.classList.remove('visible');
                }
            });
            // Click event handled by href="#preloader" or similar top anchor
        }

        // --- === Matrix Background Canvas (for .matrix-bg-v2) === ---
        const matrixCanvases = document.querySelectorAll('.matrix-bg-v2');
        matrixCanvases.forEach(container => {
            const canvas = document.createElement('canvas');
            container.appendChild(canvas);
            const ctx = canvas.getContext('2d');

            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;

            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890@#$%^&*()*&^%+-/~{[|`?..<!';
            const fontSize = 12;
            const columns = canvas.width / fontSize;
            const drops = Array(Math.floor(columns)).fill(1);

            function drawMatrix() {
                ctx.fillStyle = 'rgba(25, 26, 33, 0.1)'; // Fading effect, matches --background-main
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = 'rgba(var(--accent-color-rgb), 0.7)'; // Green characters
                ctx.font = `${fontSize}px ${getComputedStyle(document.documentElement).getPropertyValue('--font-code').trim() || 'monospace'}`;

                for (let i = 0; i < drops.length; i++) {
                    const text = letters[Math.floor(Math.random() * letters.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }
            let matrixInterval = setInterval(drawMatrix, 50); // Adjust speed

            // Resize handling (basic)
            window.addEventListener('resize', () => {
                clearInterval(matrixInterval);
                canvas.width = container.offsetWidth;
                canvas.height = container.offsetHeight;
                // Recalculate columns and drops if necessary
                const newColumns = canvas.width / fontSize;
                drops.length = 0; // Clear old drops
                for(let i=0; i < Math.floor(newColumns); i++) drops.push(1); // Reinitialize
                matrixInterval = setInterval(drawMatrix, 50);
            });
        });


        // --- Helper: Check for touch device ---
        function isTouchDevice() {
            return ('ontouchstart' in window) || navigator.maxTouchPoints > 0;
        }

        // Initial scroll to handle active nav if page loads on a hash
        if (window.location.hash) {
            const targetElement = document.querySelector(window.location.hash);
            if (targetElement) {
                setTimeout(() => { // Allow layout to settle
                     targetElement.scrollIntoView({ behavior: 'auto', block: 'start' }); // 'auto' for initial load
                     scrollActiveNav(); // Update nav
                }, 100); // Small delay
            }
        } else {
            scrollActiveNav(); // Check active nav for top of page
        }


        // --- === NEW: Background Music and Mute/Unmute Button === ---
        const bgMusic = document.getElementById('bg-music');
        const muteToggleButton = document.getElementById('mute-toggle-btn');
        const muteIcon = muteToggleButton ? muteToggleButton.querySelector('i') : null;

        if (!bgMusic || !muteToggleButton || !muteIcon) {
            console.warn("Background music control elements not found. Music feature disabled.");
        } else {
            bgMusic.volume = 0.2; // Set a lower initial volume for background music

            const updateButtonState = () => {
                if (bgMusic.paused || bgMusic.muted) {
                    muteIcon.classList.remove('fa-volume-up');
                    muteIcon.classList.add('fa-volume-mute');
                    muteToggleButton.setAttribute('aria-label', 'Play and Unmute Music');
                    muteToggleButton.title = 'Play and Unmute Music';
                } else { // Playing and not muted
                    muteIcon.classList.remove('fa-volume-mute');
                    muteIcon.classList.add('fa-volume-up');
                    muteToggleButton.setAttribute('aria-label', 'Mute Music');
                    muteToggleButton.title = 'Mute Music';
                }
            };

            // Attempt to autoplay (often blocked by browsers for audio with sound)
            const playPromise = bgMusic.play();

            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // Autoplay started successfully
                    bgMusic.muted = false; // Ensure not muted if autoplay worked
                    console.log("Background music autoplay started.");
                    updateButtonState();
                }).catch(error => {
                    // Autoplay was prevented. Music is paused.
                    console.log("Background music autoplay prevented by browser. Click button to play.", error);
                    // bgMusic.pause(); // Explicitly ensure it's paused if autoplay failed.
                    updateButtonState();
                });
            } else {
                 // play() didn't return a promise (older browser or no audio source loaded)
                 console.log("Audio play() did not return a promise. Autoplay might not be supported or audio source failed.");
                 updateButtonState();
            }

            muteToggleButton.addEventListener('click', () => {
                if (bgMusic.paused) {
                    // If paused (e.g., autoplay failed or manually paused), try to play
                    bgMusic.play().then(() => {
                        bgMusic.muted = false; // Unmute when playing
                        updateButtonState();
                    }).catch(e => {
                        console.error("Error playing audio on click:", e);
                        // Handle error, maybe update UI to show error state
                        updateButtonState(); // Reflect current state even on error
                    });
                } else {
                    // If playing, toggle mute state
                    bgMusic.muted = !bgMusic.muted;
                    updateButtonState();
                }
            });
            
            // Update button state if audio naturally ends (though it's looping)
            bgMusic.addEventListener('ended', updateButtonState);
            bgMusic.addEventListener('pause', updateButtonState);
            bgMusic.addEventListener('play', updateButtonState);
            bgMusic.addEventListener('volumechange', updateButtonState); // Catches mute/unmute too

            // Initial state update, just in case playPromise logic doesn't cover all edge cases fast enough
            updateButtonState();
        }
        // --- === End of NEW Background Music Code === ---

    }); // End DOMContentLoaded
    </script>
</body>
</html>